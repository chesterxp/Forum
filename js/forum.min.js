"use strict";!function(f,o){if(!("IntersectionObserver"in f&&"IntersectionObserverEntry"in f&&"intersectionRatio"in f.IntersectionObserverEntry.prototype)){var e=[];t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,r){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==r[e-1]})},t.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},t.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this._checkForIntersections(),this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(f,"resize",this._checkForIntersections,!0),r(o,"scroll",this._checkForIntersections,!0),"MutationObserver"in f&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(o,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},t.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,i(f,"resize",this._checkForIntersections,!0),i(o,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},t.prototype._checkForIntersections=function(){var s=this._rootIsInDom(),c=s?this._getRootRect():n();this._observationTargets.forEach(function(t){var e=t.element,r=g(e),o=this._rootContainsTarget(e),i=t.entry,n=s&&o&&this._computeTargetAndRootIntersection(e,c),a=t.entry=new u({time:f.performance&&performance.now&&performance.now(),target:e,boundingClientRect:r,rootBounds:c,intersectionRect:n});i?s&&o?this._hasCrossedThreshold(i,a)&&this._queuedEntries.push(a):i&&i.isIntersecting&&this._queuedEntries.push(a):this._queuedEntries.push(a)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},t.prototype._computeTargetAndRootIntersection=function(t,e){if("none"!=f.getComputedStyle(t).display){for(var r,o,i,n,a,s,c,u,l=g(t),d=t.parentNode,h=!1;!h;){var m=null;if(d==this.root||1!=d.nodeType?(h=!0,m=e):"visible"!=f.getComputedStyle(d).overflow&&(m=g(d)),m&&(r=m,o=l,void 0,i=Math.max(r.top,o.top),n=Math.min(r.bottom,o.bottom),a=Math.max(r.left,o.left),s=Math.min(r.right,o.right),u=n-i,!(l=0<=(c=s-a)&&0<=u&&{top:i,bottom:n,left:a,right:s,width:c,height:u})))break;d=d.parentNode}return l}},t.prototype._getRootRect=function(){var t;if(this.root)t=g(this.root);else{var e=o.documentElement,r=o.body;t={top:0,left:0,right:e.clientWidth||r.clientWidth,width:e.clientWidth||r.clientWidth,bottom:e.clientHeight||r.clientHeight,height:e.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},t.prototype._expandRectByRootMargin=function(r){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?r.width:r.height)/100}),e={top:r.top-t[0],right:r.right+t[1],bottom:r.bottom+t[2],left:r.left-t[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},t.prototype._hasCrossedThreshold=function(t,e){var r=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(r!==o)for(var i=0;i<this.thresholds.length;i++){var n=this.thresholds[i];if(n==r||n==o||n<r!=n<o)return!0}},t.prototype._rootIsInDom=function(){return!this.root||a(o,this.root)},t.prototype._rootContainsTarget=function(t){return a(this.root||o,t)},t.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},t.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},f.IntersectionObserver=t,f.IntersectionObserverEntry=u}function u(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||n(),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,r=e.width*e.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=r?i/r:this.isIntersecting?1:0}function t(t,e){var r,o,i,n=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(r=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,i=null,function(){i=i||setTimeout(function(){r(),i=null},o)}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function r(t,e,r,o){"function"==typeof t.addEventListener?t.addEventListener(e,r,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,r)}function i(t,e,r,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,r,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,r)}function g(t){var e=t.getBoundingClientRect();if(e)return e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e}function n(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function a(t,e){for(var r=e;r;){if(11==r.nodeType&&r.host&&(r=r.host),r==t)return!0;r=r.parentNode}return!1}}(window,document);var forum={isMobile:"",init:function(){this.isMobile=this.checkDevice(),this.animateAllLinks(),this.turnOnLazyLoadObservers(),this.mainSlider.init(),this.isMobile?(this.hamburgerButton(),this.mobileGallery("#galleryBox"),this.mobileGallery("#carBox")):this.main_gallery.init(),this.audioPlayer(),this.addBackground.init(this.isMobile)},addBackground:{init:function(t){if(t)return!1;var e=document.querySelector("#nav"),r=forum.addBackground;setInterval(r.checkposition,500,e)},checkposition:function(t){var e=window.scrollY,r=forum.addBackground;300<e?r.toggleClassForNavigation(t,"add"):r.toggleClassForNavigation(t,"remove")},toggleClassForNavigation:function(t,e){t.classList[e]("backgroundOn")}},checkDevice:function(){if(document.body.clientWidth<801)return!0},hamburgerButton:function(){var e=document.querySelector("#nav");document.querySelectorAll(".navBox a, .hamburger-menu").forEach(function(t){t.addEventListener("click",function(){e.classList.toggle("showNavBox")})})},animateAllLinks:function(){document.querySelectorAll('a[href^="#"]').forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href"),r=document.querySelector(e).offsetTop-50,o=window.pageYOffset,i=document.querySelector("body,html");forum.animate(i,"scrollTop","",o,r,600,!0)})})},animate:function(e,r,o,i,n,a,s){if(e){var c=(new Date).getTime(),u=setInterval(function(){var t=Math.min(1,((new Date).getTime()-c)/a);s?e[r]=i+t*(n-i)+o:e.style[r]=i+t*(n-i)+o,1==t&&clearInterval(u)},25);e.style[r]=i+o}},main_gallery:{modal:"",modalFoto:"",closeFoto:"",imgsGalleryBox:"",move_photo:"",picture_from_gallery:"",init:function(){var e=forum.main_gallery;e.modal=document.querySelector("#modal"),e.modalFoto=document.querySelector("#modalFoto"),e.closeFoto=document.querySelectorAll("#closeFoto, .back"),e.imgsGalleryBox=document.querySelectorAll("#galleryBox img, #carBox img"),e.move_photo=document.querySelectorAll(".move_photo"),e.imgsGalleryBox.forEach(function(t){t.addEventListener("click",e.showPicture)}),e.move_photo.forEach(function(t){t.addEventListener("click",e.change_picture)}),e.closeFoto.forEach(function(t){t.addEventListener("click",function(){e.modal.classList.remove("show_modal")})})},showPicture:function(){var t=forum.main_gallery;t.picture_from_gallery=this;var e=t.picture_from_gallery.getAttribute("data-src-big");t.modal.classList.add("show_modal"),t.modalFoto.src=e},change_picture:function(){var t,e=this.getAttribute("data-src-direction"),r=forum.main_gallery,o=r.picture_from_gallery;"left"==e?t=o?o.previousElementSibling:r.imgsGalleryBox[r.imgsGalleryBox.length-1]:"right"==e&&(t=o?o.nextElementSibling:r.imgsGalleryBox[0]),r.picture_from_gallery=t,r.modalFoto.src=t.getAttribute("data-src-big")}},mainSlider:{images:"",currentPhoto:1,sliderMainFoto:"",init:function(){var t=forum.mainSlider;t.sliderMainFoto=document.querySelector(".sliderMainFoto"),t.showPhoto(t.currentPhoto),t.add_event_click()},add_event_click:function(){document.querySelectorAll(".arrow_move").forEach(function(t){t.addEventListener("click",forum.mainSlider.change_photo)})},change_photo:function(t){var e=forum.mainSlider,r=t.target.dataset.move,o=e.currentPhoto;"right"==r?5==o?o=1:o++:"left"==r&&(1==o?o=5:o--),e.currentPhoto=o,e.showPhoto(o)},showPhoto:function(t){forum.mainSlider.sliderMainFoto.style.background="url('../img/slider/slider"+t+".jpg')"}},turnOnLazyLoadObservers:function(){var t=document.querySelectorAll("img[data-src],source[data-srcset]"),e=document.querySelector("#galleryBox"),r=document.querySelector("#car"),o=document.querySelectorAll(".animate-section");forum.myObserver(t,forum.load,!1),forum.myObserver(e,forum.fadeInGalleryElement.bind(this,"main"),!1),forum.myObserver(r,forum.fadeInGalleryElement.bind(this,"car"),!1),forum.myObserver(o,forum.showSection,!1)},fadeInGalleryElement:function(t){var e="";"main"===t?e="#galleryBox img":"car"===t&&(e="#carBox .gallery_photo"),document.querySelectorAll(e).forEach(function(t,e){setTimeout(function(){t.classList.add("show_gallery_box__photo")},150*e)})},showSection:function(t){t.style.opacity=1},myObserver:function(t,e,r,o){var i=3<arguments.length&&void 0!==o?o:"1px",n=Array.from(t),a=new IntersectionObserver(function(t){t.forEach(function(t){if(!(0<t.intersectionRatio))return 0!=r&&r(),!0;e(t.target),0==r&&a.unobserve(t.target)})},{rootMargin:i,threshold:.01});1<n.length?n.forEach(function(t){a.observe(t)}):a.observe(t)},load:function(t){t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src"))},mobileGallery:function(t){var o=document.querySelector(t),i=o.children.length,n=0,a=null,s=!1;function c(t){return t.changedTouches?t.changedTouches[0]:t}function e(t){a=c(t).clientX,o.classList.toggle("smooth",!(s=!0))}function r(t){t.preventDefault(),s&&o.style.setProperty("--tx",Math.round(c(t).clientX-a)+"px")}function u(t){if(s){var e=c(t).clientX-a,r=Math.sign(e);(0<n||r<0)&&(n<i-1||0<r)&&o.style.setProperty("--i",n-=r),o.style.setProperty("--tx","0px"),o.classList.toggle("smooth",!(s=!1)),a=null}}o.style.setProperty("--n",i),o.addEventListener("mousedown",e,!1),o.addEventListener("touchstart",e,!1),o.addEventListener("mousemove",r,!1),o.addEventListener("touchmove",r,!1),o.addEventListener("mouseup",u,!1),o.addEventListener("touchend",u,!1)},audioPlayer:function(){var t,e,r,o,i,n,a,s=[{artist:"z repertuaru Kombi",titleOfSong:"Kochać Cię za późno",src:"/audio/Track-01.mp3",fullTime:"04:21"},{artist:"z repertuaru Gossip",titleOfSong:"Move in the Right Direction",src:"/audio/Track-30.mp3",fullTime:"03:17"},{artist:"z repertuaru Dystans",titleOfSong:"Co za noc",src:"/audio/Track-28.mp3",fullTime:"03:18"},{artist:"z repertuaru A. Rusowicz",titleOfSong:"Za daleko mieszkasz miły",src:"/audio/Track-27.mp3",fullTime:"02:33"},{artist:"z repertuaru Weekend",titleOfSong:"Ona i on",src:"/audio/Track-03.mp3",fullTime:"04:33"},{artist:"piosenka ukraińska",titleOfSong:"Oj Smereko",src:"/audio/Track-25.mp3",fullTime:"03:22"},{artist:"z repertuaru De Mono",titleOfSong:"Statki na niebie",src:"/audio/Track-14.mp3",fullTime:"03:43"},{artist:"z repertuaru Amna",titleOfSong:"Tell Me Why",src:"/audio/Track-29.mp3",fullTime:"Tell Me Why"},{artist:"z repertuaru Masters",titleOfSong:"Szukam dziewczyny",src:"/audio/Track-09.mp3",fullTime:"03:29"},{artist:"repertuaru Tiny Turner",titleOfSong:"Simply the best",src:"/audio/Track-02.mp3",fullTime:"04:02"},{artist:"repertuaru For Teens",titleOfSong:"Jesteś częścią mnie",src:"/audio/Track-19.mp3",fullTime:"03:48"},{artist:"z repertuaru Anny Jantar",titleOfSong:"Wielka dama",src:"/audio/Track-06.mp3",fullTime:"03:51"},{artist:"z repertuaru Loka",titleOfSong:"Prawdziwe powietrze",src:"/audio/Track-07.mp3",fullTime:"02:57"},{artist:"z repertuaru Samanthy Fox",titleOfSong:"Touch me",src:"/audio/Track-08.mp3",fullTime:"03:41"},{artist:"z repertuaru Varius Manx",titleOfSong:"Ruchome piaski",src:"/audio/Track-04.mp3",fullTime:"04:42"},{artist:"z repertuaru Czarno Czarni",titleOfSong:"Nogi",src:"/audio/Track-16.mp3",fullTime:"03:00"},{artist:"wersja Maryli Rodowicz",titleOfSong:"Kolorowe jarmarki",src:"/audio/Track-26.mp3",fullTime:"04:09"},{artist:"z repertuaru Adama",titleOfSong:"Zanim wstanie dzień",src:"/audio/Track-17.mp3",fullTime:"04:14"},{artist:"z repertuaru Kasi Sobczyk",titleOfSong:"Trzynastego",src:"/audio/Track-10.mp3",fullTime:"03:19"},{artist:"z repertuaru Tarzan Boy",titleOfSong:"Promienie",src:"/audio/Track-20.mp3",fullTime:"04:13"},{artist:"z repertuaru ludowego",titleOfSong:"Marysiu buzi daj",src:"/audio/Track-15.mp3",fullTime:"03:25"},{artist:"z repertuaru Czerwone Gitary",titleOfSong:"Słowo jedyne Ty",src:"/audio/Track-11.mp3",fullTime:"02:47"},{artist:"z repertuaru Maryli Rodowicz",titleOfSong:"Małgośka",src:"/audio/Track-13.mp3",fullTime:"02:59"},{artist:"z repertuaru Emigranci",titleOfSong:"Na falochronie",src:"/audio/Track-21.mp3",fullTime:"04:27"},{artist:"z repertuaru Maryli Rodowicz",titleOfSong:"Weselne dzieci",src:"/audio/Track-18.mp3",fullTime:"Weselne dzieci"},{artist:"z repertuaru Lider",titleOfSong:"Moja Gitara",src:"/audio/Track-12.mp3",fullTime:"04:25"},{artist:"z repertuaru De Mono",titleOfSong:"Dla zakochanych",src:"/audio/Track-23.mp3",fullTime:"04:08"},{artist:"z repertuaru Kancelaria",titleOfSong:"Zabiore Cie",src:"/audio/Track-22.mp3",fullTime:"05:21"},{artist:"z repertuaru Darko Damiana",titleOfSong:"Żono Moja",src:"/audio/Track-24.mp3",fullTime:"03:51"}],c=0,u=document.createElement("audio"),l=void 0,d=void 0,h=void 0,m=void 0,f=void 0,g=void 0,p=void 0,y=void 0,v=!0,T=void 0;function _(t){c=t,u.canPlayType("audio/mp3")&&u.setAttribute("src",s[t].src)}function b(t,e){"next"===t?c+=1:--c,c===e-1?c=0:-1===c&&(c=e-1),u.canPlayType("audio/mp3")&&u.setAttribute("src",s[c].src)}function k(){var t;u.addEventListener("timeupdate",function(){var t=u.currentTime,e=u.duration,r="00",o="00",i=parseInt(t/60,0),n=parseInt(t%60,0),a=parseInt(t/e*100,10);t<60?(r="00",o=t<10?"0"+parseInt(t,0):parseInt(t,0)):i<10?(r="0"+i,o=n<10?"0"+n:n):r="time",h.innerHTML=r+":"+o,g.style.width=a+"%"}),m.innerHTML=s[c].fullTime,t=function(t){return Math.floor(Math.random()*t)}(39),l.style.backgroundImage="url('./img/small/foto"+t+".jpg')",d.innerText=s[c].titleOfSong,function(){for(var t=0;t<y.length;t++)y[t].classList.remove("active");y[c].classList.add("active")}(),v||u.play(),v=!1}function S(t){"song"==t.target.classList[0]&&(_(t.target.dataset.song-1),k(),forum.isMobile&&T.classList.remove("showPlayList"))}function E(t){T.classList.toggle("showPlayList")}e=document.querySelector("#play"),r=document.querySelector("#pause"),o=document.querySelector("#next"),i=document.querySelector("#prev"),n=s.length,a=document.querySelector("#playListButton"),T=document.querySelector("body"),p=document.querySelector("#playlist"),y=p.querySelectorAll(".song"),h=document.querySelector("#duration"),m=document.querySelector("#fullTime"),f=document.querySelector(".lineColorBox"),g=document.querySelector(".lineColor"),l=document.querySelector("#songFoto"),d=document.querySelector(".titleBox .title"),_(c),k(),e.addEventListener("click",function(){u.play()}),r.addEventListener("click",function(){u.pause()}),o.addEventListener("click",function(){b("next",n),k()}),i.addEventListener("click",function(){b("prev",n),k()}),function(){f.addEventListener("click",function(t){var e=f.offsetWidth,r=t.offsetX/e;g.style.width=t.offsetX+"px",u.currentTime=u.duration*r}.bind(this))}(),function(){for(var t=0;t<y.length;t++)y[t].addEventListener("click",S.bind(this))}(),t=n,u.onended=function(){b("next",t),k()},a.addEventListener("click",E)}};forum.init();